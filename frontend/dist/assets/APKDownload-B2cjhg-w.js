import{r as l,j as e,b as f,c as n,d as y,e as N,f as w,y as x}from"./index-WIfzWA4V.js";const A=()=>{const[o,h]=l.useState([]),[u,d]=l.useState(!0),[i,c]=l.useState(null);l.useEffect(()=>{m()},[]);const m=async()=>{try{d(!0);const s=await fetch("https://api.github.com/repos/K1NG-Devops/my-turborepo/releases");if(!s.ok)throw new Error("Failed to fetch releases");const t=(await s.json()).filter(r=>r.assets.some(j=>j.name.endsWith(".apk")));h(t),c(null)}catch(s){console.error("Error fetching releases:",s),c("Unable to load APK releases. Please try again later.")}finally{d(!1)}},b=(s,a)=>{window.gtag&&window.gtag("event","download",{event_category:"APK",event_label:a});const t=document.createElement("a");t.href=s,t.download=a,document.body.appendChild(t),t.click(),document.body.removeChild(t),x.success("APK download started!")},p=s=>{if(s===0)return"0 Bytes";const a=1024,t=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(s)/Math.log(a));return parseFloat((s/Math.pow(a,r)).toFixed(2))+" "+t[r]},g=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return u?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading APK releases..."})]}):i?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"text-red-500 mr-2"}),e.jsx("p",{className:"text-red-700",children:i})]}),e.jsx("button",{onClick:m,className:"mt-2 text-red-600 hover:text-red-800 underline",children:"Try again"})]}):e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(n,{className:"text-green-500 text-4xl mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Download Young Eagles App"}),e.jsx("p",{className:"text-gray-600",children:"Get the latest version of our Android app"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(y,{className:"text-blue-500 mt-1 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-800 mb-1",children:"Security & Installation"}),e.jsx("p",{className:"text-blue-700 text-sm",children:'Our APK is digitally signed and safe to install. You may need to enable "Install from unknown sources" in your Android settings for first-time installation.'})]})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Installation Steps:"}),e.jsxs("ol",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"1. Download the APK file"}),e.jsx("li",{children:"2. Open the downloaded file"}),e.jsx("li",{children:"3. If prompted, allow installation from unknown sources"}),e.jsx("li",{children:"4. Follow the installation prompts"}),e.jsx("li",{children:"5. Launch the Young Eagles app!"})]})]}),o.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(n,{className:"text-gray-300 text-3xl mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No APK releases available yet."}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"APK builds are generated automatically when code is updated."})]}):e.jsx("div",{className:"space-y-4",children:o.map(s=>{const a=s.assets.filter(t=>t.name.endsWith(".apk"));return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.name||`Version ${s.tag_name}`}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Released on ",g(s.published_at)]})]}),e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(N,{className:"mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:"Latest"})]})]}),s.body&&e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-sm text-gray-600",children:s.body})}),e.jsx("div",{className:"space-y-2",children:a.map(t=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(n,{className:"text-green-500 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[p(t.size)," • Downloaded ",t.download_count," times"]})]})]}),e.jsxs("button",{onClick:()=>b(t.browser_download_url,t.name),className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(w,{className:"mr-2"}),"Download"]})]},t.id))})]},s.id)})}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Alternative Options:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Use as Web App"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Use our app directly in your browser with full functionality."}),e.jsx("button",{onClick:()=>window.location.href="/dashboard",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Open Web App →"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Install as PWA"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Add to your home screen for an app-like experience."}),e.jsx("button",{onClick:()=>{"serviceWorker"in navigator&&x.info(`Use your browser's "Add to Home Screen" option!`)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Learn How →"})]})]})]})]})};export{A as default};
